!function(){"use strict";win.pagestack=function(e){const t={container:"#ps-pages",pageSelector:".ps-page",direction:"vertical",menu:null,anchors:[],scrollingSpeed:700,touchSensitivity:5,loopBottom:!1,loopTop:!1,keyboardScrolling:!0,hashHistorial:!1,beforeSlide:null,afterSlide:null},n="ontouchstart"in window||"msMaxTouchPoints"in navigator&&navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,o={touchStartY:0,touchStartX:0,touchEndY:0,touchEndX:0},i=win.pagestack;let a,c,s,r,l,d,u,h,v=[],g=0,f=(new Date).getTime();function m(e){const n=e.target,o=n.closest(`${t.navigation?.container} li,\n                                        ${t.navigation?.container} [anchor]`);if(o){e.preventDefault(),e.stopPropagation();const t=o,n=Array.from(t.parentElement.children).findIndex((e=>e===t));S(s[n])}if(t.menu&&n.matches(`${t.menu} [data-anchor]`)||n.closest(`${t.menu} [data-anchor]`)){e.preventDefault(),e.stopPropagation();const t=n.closest("[data-anchor]")?.dataset.anchor;x(t)}}function p(e,t,n){e.classList["next"===n?"add":"remove"](t)}function w(e){p(e.animatePage,e.translationClass,e.movementDirection),e.pagesToMove.forEach((t=>p(t,e.translationClass,e.movementDirection))),setTimeout((()=>function(e){t.afterSlide instanceof Function&&t.afterSlide(e)}(e)),t.scrollingSpeed)}function y(e){switch(e){case"left":case"horizontal":return"left";case"right":case"horizontal-inverted":return"right";case"down":case"bottom":case"vertical-inverted":return"down";case"up":case"top":case"vertical":default:return"up"}}function S(e){const n={activePage:s.find((e=>e.classList.contains("active"))),activePageIndex:s.findIndex((e=>e.classList.contains("active")))+1,destinyPage:e,destinyPageIndex:s.findIndex((t=>t===e)),destinyAnchor:e.id,movementDirection:(o=e,s.findIndex((e=>e.classList.contains("active")))>s.findIndex((e=>e===o))?"prev":"next")};var o,i,c,r;if(n.activePage===e)return;t.hashHistorial&&void 0!==n.destinyAnchor&&(i=n.destinyAnchor,t.anchors.length>0&&(location.hash=i)),n.activePage.classList.remove("active"),n.destinyPage.classList.add("active"),n.pagesToMove=function(e){let t;return t="next"===e.movementDirection?s.filter(((t,n)=>n<s.findIndex((t=>t===e.destinyPage))&&t)):s.filter(((t,n)=>n>s.findIndex((t=>t===e.destinyPage))&&t)),t}(n),n.translationClass=`scrolled-${y(t.direction)}`,n.animatePage="next"===n.movementDirection?n.activePage:e,function(e){t.beforeSlide instanceof Function&&t.beforeSlide(e)}(n),w(n),(t.navigation||t.navigation.dynamic)&&(c=n.destinyAnchor,r=n.destinyPageIndex,t.navigation&&(h.find((e=>e.classList.contains("active"))).classList.remove("active"),c?h.find((e=>e.href.includes(`#${c}`))).classList.add("active"):h[r].classList.add("active")));let l=(new Date).getTime();a=n.destinyAnchor,g=l}function x(e=null){const t=e||window.location.hash.replace("#",""),n=s.find((e=>e.id===t));n&&S(n)}function L(){return(new Date).getTime()-g<1500+t.scrollingSpeed}function P(e,t){return"top"===e?!t.scrollTop:t.scrollTop+t.offsetHeight+1>t.scrollHeight}function b(e,t){const n="down"==e?"bottom":"top",o=i[`moveTo${"down"===e?"Next":"Prev"}Page`];t?P(n,t)&&o():o()}function E(e){return e.classList.contains("ps-scrollable")&&e}function T(e,t){let n=0,o=e.slice(Math.max(e.length-t,1));for(let e=0;e<o.length;e++)n+=o[e];return Math.ceil(n/t)}function M(e){e=e||window.event;const t=(new Date).getTime(),n=t-f;f=t;const o=e.wheelDelta||-e.deltaY||-e.detail,i=Math.max(-1,Math.min(1,o)),a=void 0!==e.wheelDeltaX||void 0!==e.deltaX,c=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!a;if(v.length>149&&v.shift(),v.push(Math.abs(o)),n>200&&(v=[]),!L()){if(T(v,10)>=T(v,70)&&c){const e=E(s.find((e=>e.classList.contains("active"))));i<0?b("down",e):i>0&&b("up",e)}return!1}}function D(){return window.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}function X(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function k(e,t){const n=function(e){const t={};return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,t}(e);o[`touch${t}Y`]=n.y,o[`touch${t}X`]=n.x}function A(e){X(e)&&k(e,"Start")}function Y(e,n){const i=o["touchStart"+("x"===e?"X":"Y")],a=o["touchEnd"+("x"===e?"X":"Y")],c="x"===e?"Width":"Height";return Math.abs(i-a)>n[`offset${c}`]/100*t.touchSensitivity&&(i>a?"down":a>i&&"up")}function $(e){if(X(e)){const n=E(s.find((e=>e.classList.contains("active"))));if(n||e.preventDefault(),n&&!L()){k(e,"End");const i=("left"===y(t.direction)||"right"===y(t.direction))&&Math.abs(o.touchStartX-o.touchEndX)>Math.abs(o.touchStartY-o.touchEndY)?Y("x",n):Y("y",n);i&&b(i,n)}}}function C(){const e=window.location.hash.replace("#","").split("/")[0];if(e&&e!==a){S("number"!=typeof e?document.getElementById(e):s[e-1])}}i.defineConfig=e=>{Object.assign(t,e),t.navigation=Object.assign({dynamic:!1,position:"right",container:"#ps-nav",class:[],tooltips:[]},e.navigation)},i.setAllowScrolling=e=>{i.setMouseWheelScrolling(e),e?function(){if(n){const e=D();c[e.down]=A,c[e.move]=$,c.ontouchstart=A,c.ontouchmove=$}}():function(){if(n){const e=D();c[e.down]=null,c[e.move]=null,c.ontouchstart=null,c.ontouchmove=null}}()},i.setScrollingSpeed=e=>t.scrollingSpeed=e,i.setKeyboardScrolling=e=>t.keyboardScrolling=e,i.setMouseWheelScrolling=e=>e?void("attachEvent"in c?c.attachEvent("onmousewheel",M):(c.addEventListener("mousewheel",M,!1),c.addEventListener("wheel",M,!1))):void("detachEvent"in c?c.detachEvent("onmousewheel",M):(c.removeEventListener("mousewheel",M,!1),c.removeEventListener("wheel",M,!1))),i.moveToPrevPage=()=>{const e=s.find((e=>e.classList.contains("active")));let n=s[s.indexOf(e)-1];!n&&t.loopTop&&(n=l),n&&S(n)},i.moveToNextPage=()=>{const e=s.find((e=>e.classList.contains("active")));let n=s[s.indexOf(e)+1];!n&&t.loopBottom&&(n=r),n&&S(n)},i.moveTo=e=>{const t="number"!=typeof e?e:s[e-1];t&&S(t)},i.init=()=>{c=document.querySelector(t.container),s=Array.from(c.querySelectorAll(t.pageSelector)),r=s[0],l=s[s.length-1],d=document.querySelector(t.navigation.container),u=Array.from(d.querySelectorAll("li, [anchor]")),h=u.map((e=>e.querySelector("a"))),new Promise((e=>{const t=s.find((e=>e.classList.contains("active")));for(let e=0,n=s.length,o=s.length;e<o;e++,n--){const o=s[e];o.style.zIndex=n.toString(),e||t||o.classList.add("active")}return e()})).then((()=>{if(d){const e=s.findIndex((e=>e.classList.contains("active")));u[e].querySelector("a").classList.add("active")}})).catch(console.error),i.setAllowScrolling(!0),t.hashHistorial&&(window.addEventListener("load",(()=>x())),window.addEventListener("hashchange",C)),t.navigation.dynamic&&function(){const e=document.createElement("section"),n=document.createElement("ul");e.id=t.navigation.container.replace(/^\.|#/,""),e.classList.add(t.navigation.position),t.navigation.class.length&&e.classList.add(...t.navigation.class);for(let e=0;e<s.length;e++){let o,i;const a=document.createElement("li");t.anchors.length&&(o=t.anchors[e]),t.navigation.tooltips.length&&(i=void 0===t.navigation.tooltips[e]?"":t.navigation.tooltips[e]),i&&(a.dataset.tooltip=i),a.insertAdjacentHTML("beforeend",`\n          <a href="#${o}"><span></span></a>\n          ${i?`<section class="ps-tooltip ${t.navigation.position}">${i}</section>`:""}\n        `),n.insertAdjacentElement("beforeend",a)}e.append(n),document.body.insertAdjacentElement("beforeend",e)}(),t.keyboardScrolling&&window.addEventListener("keydown",(e=>{const t=s.find((e=>e.classList.contains("active")));!L()&&e.target.matches("body")&&(38===e.keyCode||33===e.keyCode||37===e.keyCode?P("top",t)&&i.moveToPrevPage():40===e.keyCode||34===e.keyCode||39===e.keyCode?P("bottom",t)&&i.moveToNextPage():36===e.keyCode?i.moveTo(r):35===e.keyCode&&i.moveTo(l))})),document.addEventListener("click",m),document.addEventListener("touchstart",m)},i.defineConfig(e),i.init()}}();